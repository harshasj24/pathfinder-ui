<mat-card>
  <h1 class="me-2">IT Spend Category</h1>
  <mat-tab-group mat-align-tabs="start">
    <mat-tab *ngFor="let asset of assets" [label]="asset.lable">
      <app-table
        [calucatedData]="asset.claculatedData"
        [inputData]="asset.assetDetail"
      ></app-table>
      <!-- <button
        mat-raised-button
        color="primary"
        (click)="handleGet(asset.dailogTitle)"
      >
        Get Levers
      </button> -->
      <button
        mat-raised-button
        color="primary"
        class="mx-3"
        (click)="openDailog(asset.dailogTitle, 'update')"
      >
        Update Levers
      </button>
      <!-- <button
        mat-raised-button
        color="primary"
        (click)="openDailog(asset.dailogTitle, 'add')"
      >
        Add Spend Category
      </button> -->
    </mat-tab>
  </mat-tab-group>

  <div class="total-assets">
    <table class="table table-striped table-bordered table-hover mt-3">
      <tbody>
        <tr>
          <td class="title border">Total IT spends on assets</td>
          <td class="baseline-year border">
            {{ totalAssets?.itspendonassets_baseline }}
          </td>
          <td
            *ngFor="let asset of totalAssets?.itspendcalc"
            class="border year"
          >
            {{ asset?.itspendonassets_year }}
          </td>
        </tr>
      </tbody>
    </table>
    <button
      mat-raised-button
      color="primary"
      class="mt-3"
      (click)="handleGetTotal()"
    >
      Get Total Assets
    </button>
  </div>
  <div class="optimzation mt-4">
    <table class="table table-striped table-bordered table-hover">
      <tbody>
        <tr>
          <th>SAVINGS THROUGH OPTIMIZATION LEVERS</th>
          <td *ngFor="let savingoptdatayear of savingoptdatayear">
            {{ savingoptdatayear?.saving_levers | currency: "USD":true:"1.0" }}
          </td>
          <td>
            {{
              savingoptdata?.total_saving_levers | currency: "USD":true:"1.0"
            }}
          </td>
        </tr>
        <tr>
          <th>Cost of Transformation Partner share</th>
          <td *ngFor="let savingoptdatayear of savingoptdatayear">
            {{
              savingoptdatayear?.cot_partner_share | currency: "USD":true:"1.0"
            }}
          </td>
          <td>
            {{ savingoptdata?.total_cot_partner | currency: "USD":true:"1.0" }}
          </td>
        </tr>
        <tr>
          <th>1. TOTAL SAVINGS WITH ASSET ONLY MODEL</th>
          <td *ngFor="let savingoptdatayear of savingoptdatayear">
            {{
              savingoptdatayear?.total_savings_model
                | currency: "USD":true:"1.0"
            }}
          </td>
          <td>
            {{ savingoptdata?.sum_total_savings | currency: "USD":true:"1.0" }}
          </td>
        </tr>
        <tr>
          <th>
            RUN BUSINESS IT ASSET RUN RATE WITH PARTNER (no personnel model)
          </th>
          <td *ngFor="let savingoptdatayear of savingoptdatayear">
            {{ savingoptdatayear?.run_businessit | currency: "USD":true:"1.0" }}
          </td>
          <td>
            {{
              savingoptdata?.total_run_businessit | currency: "USD":true:"1.0"
            }}
          </td>
          <td>
            {{
              savingoptdata?.main_total_run_businessit
                | currency: "USD":true:"1.0"
            }}
          </td>
        </tr>
      </tbody>
    </table>

    <button (click)="optimizationLevrs()" mat-raised-button color="primary">
      Get Optimization Levers
    </button>
  </div>
</mat-card>
